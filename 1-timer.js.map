{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/themes/confetti.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst timePicker = document.querySelector('#datetime-picker');\nconst button = document.querySelector('button[data-start]');\nconst seconds = document.querySelector('span[data-seconds]');\nconst minutes = document.querySelector('span[data-minutes]');\nconst hours = document.querySelector('span[data-hours]');\nconst days = document.querySelector('span[data-days]');\nlet userSelectedDate = null;\nlet id = null;\n\nflatpickr(timePicker, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate - Date.now() > 0) {\n      button.disabled = false;\n    } else {\n      button.disabled = true;\n      window.alert('Please choose a date in the future');\n    }\n  },\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\nfunction addLeadingZero(value) {\n  if (String(value).length < 2) {\n    return String(value).padStart(2, '0');\n  }\n  return String(value);\n}\n\nfunction countDown() {\n  let dif = convertMs(userSelectedDate - Date.now());\n  seconds.textContent = addLeadingZero(dif.seconds);\n  minutes.textContent = addLeadingZero(dif.minutes);\n  hours.textContent = addLeadingZero(dif.hours);\n  days.textContent = addLeadingZero(dif.days);\n  button.disabled = true;\n  button.style.cursor = 'not-allowed';\n  timePicker.disabled = true;\n  timePicker.style.cursor = 'not-allowed';\n  if (\n    seconds.textContent === '00' &&\n    minutes.textContent === '00' &&\n    hours.textContent === '00' &&\n    days.textContent === '00'\n  ) {\n    clearInterval(id);\n    seconds.textContent = '00';\n    minutes.textContent = '00';\n    hours.textContent = '00';\n    days.textContent = '00';\n    button.disabled = false;\n    timePicker.disabled = false;\n    timePicker.style.cursor = 'pointer';\n    button.style.cursor = 'auto';\n  }\n}\nbutton.onclick = () => {\n  id = setInterval(() => {\n    countDown();\n  }, 1000);\n};\n"],"names":["timePicker","button","seconds","minutes","hours","days","userSelectedDate","id","flatpickr","selectedDates","convertMs","ms","addLeadingZero","value","countDown","dif"],"mappings":"wIAKA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAO,SAAS,cAAc,iBAAiB,EACrD,IAAIC,EAAmB,KACnBC,EAAK,KAETC,EAAUR,EAAY,CACpB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAC9BH,EAAmB,KAAK,IAAG,EAAK,EAClCL,EAAO,SAAW,IAElBA,EAAO,SAAW,GAClB,OAAO,MAAM,oCAAoC,EAEpD,CACH,CAAC,EAED,SAASS,EAAUC,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BP,EAAQ,KAAK,MAAOO,EAAK,MAAO,IAAI,EAEpCR,EAAU,KAAK,MAAQQ,EAAK,MAAO,KAAQ,GAAM,EAEjDT,EAAU,KAAK,MAASS,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAD,EAAO,QAAAD,EAAS,QAAAD,CAAS,CAC1C,CACA,SAASU,EAAeC,EAAO,CAC7B,OAAI,OAAOA,CAAK,EAAE,OAAS,EAClB,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,EAE/B,OAAOA,CAAK,CACrB,CAEA,SAASC,GAAY,CACnB,IAAIC,EAAML,EAAUJ,EAAmB,KAAK,IAAG,CAAE,EACjDJ,EAAQ,YAAcU,EAAeG,EAAI,OAAO,EAChDZ,EAAQ,YAAcS,EAAeG,EAAI,OAAO,EAChDX,EAAM,YAAcQ,EAAeG,EAAI,KAAK,EAC5CV,EAAK,YAAcO,EAAeG,EAAI,IAAI,EAC1Cd,EAAO,SAAW,GAClBA,EAAO,MAAM,OAAS,cACtBD,EAAW,SAAW,GACtBA,EAAW,MAAM,OAAS,cAExBE,EAAQ,cAAgB,MACxBC,EAAQ,cAAgB,MACxBC,EAAM,cAAgB,MACtBC,EAAK,cAAgB,OAErB,cAAcE,CAAE,EAChBL,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACtBC,EAAM,YAAc,KACpBC,EAAK,YAAc,KACnBJ,EAAO,SAAW,GAClBD,EAAW,SAAW,GACtBA,EAAW,MAAM,OAAS,UAC1BC,EAAO,MAAM,OAAS,OAE1B,CACAA,EAAO,QAAU,IAAM,CACrBM,EAAK,YAAY,IAAM,CACrBO,EAAW,CACZ,EAAE,GAAI,CACT"}